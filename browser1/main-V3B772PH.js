import{a as I,b as w,c,d as z,e as n,f as L,g as T,h as k,i as D}from"./chunk-FYW4W47M.js";import"./chunk-X6YHEMIY.js";import{h as g,i as C,j as v,k as y,l as M,m as R,o as b,p as A,r as S}from"./chunk-7ERO6PR6.js";import{Ba as i,Qa as m,R as s,Ra as u,Sa as d,Za as f,eb as h,xa as p}from"./chunk-LQJFUVYD.js";import{f as l}from"./chunk-ZY7WU73K.js";var r=class o{constructor(e,t){this.authService=e;this.router=t;console.log("call back loaded-----------")}ngOnInit(){this.callAuth()}callAuth(){return l(this,null,function*(){console.log("call back function called-----------");try{console.log(" Waiting for MSAL initialization..."),yield this.authService.instance.initialize(),console.log(" Handling redirect promise...");let e=yield this.authService.instance.handleRedirectPromise();e!==null?(console.log("Authentication successful:",e),this.router.navigate(["/app/home"])):console.log(" No authentication response found.")}catch(e){console.error(" Error handling authentication:",e)}})}static \u0275fac=function(t){return new(t||o)(p(n),p(A))};static \u0275cmp=i({type:o,selectors:[["app-authorization-callback"]],decls:2,vars:0,template:function(t,P){t&1&&(m(0,"p"),f(1,"Processing authentication..."),u())},encapsulation:2})};var N=[{path:"login",loadComponent:()=>import("./chunk-ASZMEELR.js").then(o=>o.LoginComponent)},{path:"authorization",component:r},{path:"app",loadChildren:()=>import("./chunk-3BRK4URE.js").then(o=>o.LAYOUT_ROUTES)},{path:"**",redirectTo:"app/home"}];var U={auth:{clientId:"2a055c58-381c-4f3b-800b-4a15faad67a4",authority:"https://login.microsoftonline.com/e63fab15-c7a5-4eed-8e7d-1f64eeefc34a",redirectUri:"http://localhost:4200/authorization",postLogoutRedirectUri:"http://localhost:4200/"},cache:{cacheLocation:w.LocalStorage,storeAuthStateInCookie:!0},system:{loggerOptions:{loggerCallback:(o,e,t)=>{t||console.log(`[MSAL] ${e}`)},logLevel:I.Info}}},O={providers:[h({eventCoalescing:!0}),S(N),R(M()),g(C()),s(y,D.forRoot(new z(U),{interactionType:c.Redirect,authRequest:{scopes:["User.Read"]}},{interactionType:c.Redirect,protectedResourceMap:new Map([["https://graph.microsoft.com/v1.0/me",["User.Read"]]])})),n,T,L,{provide:"HTTP_INTERCEPTORS",useClass:k,multi:!0}]};var a=class o{title="Iride-Frontend";static \u0275fac=function(t){return new(t||o)};static \u0275cmp=i({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(t,P){t&1&&d(0,"router-outlet")},dependencies:[b],encapsulation:2})};v(a,O).catch(o=>console.error(o));
